+++
title = 'NX Angular Openapi Http Client'
date = 2024-07-23T08:58:54+02:00
draft = true
+++

# Howto add a generated http client to a Angular NX Project

1. Create a new NX module

   ```
   npx nx generate @nx/angular/library apps/http-client
   ```

   `apps/http-client` is the angular library location.

1. Install openapi generator

   ```
   npm install --save-dev @openapitools/openapi-generator-cli
   ```

1. Create or copy your openapi.yml file to the project. I put mine the location of the angular library. `apps/http-client`
1. In the root project edit tsconfig file path property for the http-client. Configure it to `apps/http-client/index.ts`
1. Remove directory generated by `nx` `apps/http-client/src`
1. Generate the client, run the command from the `apps/http-client` directory
   ```
   npx @openapitools/openapi-generator-cli generate -i openapi.yaml -g typescript-angular -o ./
   ```
1. Add the module to your main component

   ```typescript
   import { Component } from "@angular/core";
   import { RouterModule } from "@angular/router";
   import { ApiModule, ClientService } from "@project/http-client";

   @Component({
     standalone: true,
     imports: [RouterModule, ApiModule],
     selector: "app-root",
     templateUrl: "./app.component.html",
     styleUrl: "./app.component.scss",
   })
   export class AppComponent {
     private readonly client: ClientService;

     public testFn() {
       this.client.operation();
     }
   }
   ```
